{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudWorkerUtil.js","webpack:///./node_modules/@arcgis/core/renderers/support/pointCloud/ColorClassBreakInfo.js","webpack:///./node_modules/@arcgis/core/renderers/PointCloudClassBreaksRenderer.js","webpack:///./node_modules/@arcgis/core/renderers/PointCloudStretchRenderer.js","webpack:///./node_modules/@arcgis/core/renderers/support/pointCloud/ColorModulation.js","webpack:///./node_modules/@arcgis/core/renderers/support/pointCloud/PointSizeAlgorithm.js","webpack:///./node_modules/@arcgis/core/renderers/support/pointCloud/PointSizeFixedSizeAlgorithm.js","webpack:///./node_modules/@arcgis/core/renderers/support/pointCloud/PointSizeSplatAlgorithm.js","webpack:///./node_modules/@arcgis/core/renderers/support/pointCloud/pointSizeAlgorithmTypeUtils.js","webpack:///./node_modules/@arcgis/core/renderers/PointCloudRenderer.js","webpack:///./node_modules/@arcgis/core/renderers/support/pointCloud/ColorUniqueValueInfo.js","webpack:///./node_modules/@arcgis/core/renderers/PointCloudUniqueValueRenderer.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/i3s/I3SBinaryReader.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/i3s/LEPCC.js"],"names":["u","e","o","l","i","rendererJSON","s","isRGBRenderer","f","c","type","fromJSON","colorUniqueValueInfos","Uint8Array","r","p","fieldTransformType","t","n","length","values","indexOf","color","g","b","stops","value","colorClassBreakInfos","minValue","maxValue","colorModulation","encoding","vertexAttributes","position","header","fields","offsetX","offsetY","offsetZ","scaleX","scaleY","scaleZ","a","Float64Array","result","attributeInfo","useElevation","d","storageInfo","buffer","m","filterJSON","mode","requiredSetBits","requiredClearBits","includedReturns","Math","abs","super","arguments","this","description","label","String","json","write","prototype","Number","read","source","target","field","legendOptions","cloneProperties","pointCloudClassBreaksRenderer","fieldTransformTypeKebabDict","apiValues","jsonValues","pointCloudStretchRenderer","nonNullable","pointCloudFixedSizeAlgorithm","pointCloudSplatAlgorithm","readOnly","size","useRealWorldSymbolSizes","Boolean","scaleFactor","key","base","typeMap","splat","pointCloudRGBRenderer","pointCloudUniqueValueRenderer","pointSizeAlgorithm","pointsPerInch","console","warn","declaredClass","types","none","lowFourBit","highFourBit","absoluteValue","moduloTen","getLogger","fromCharCode","byteOffset","byteCount","Object","create","valueType","I","property","BYTES_PER_ELEMENT","push","count","valuesPerElement","entries","ordering","h","A","error","expectedSize","actualSize","isDraco","isLegacy","normal","uv0","uvRegion","featureIndex","faceRange","featureId","y","vertexCount","faceCount","faces","featureCount","featureAttributes","featureAttributeOrder","byteLength","compressedAttributes","v","attributes","w","region","C","attributeByteCounts","hasOwnProperty","attributeValues","objectIds","Float32","Float32Array","Float64","UInt8","Int8","Int8Array","UInt16","Uint16Array","Int16","Int16Array","UInt32","Uint32Array","Int32","Int32Array","DataView","getFloat32","getFloat64","getUint8","getInt8","getUint16","getInt16","getUint32","getInt32","identifierOffset","identifierLength","versionOffset","checksumOffset","identifier","apply","version","checksum","sizeLo","sizeHi","minX","minY","minZ","maxX","maxY","maxZ","errorX","errorY","errorZ","reserved","U","min","ceil","colorMapCount","lookupMethod","compressionMethod","slice","bitsPerPoint"],"mappings":"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","file":"js/chunk-33bd1f4e.5b9c4755.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as o}from\"../../../../core/maybe.js\";import r from\"../../../../renderers/PointCloudClassBreaksRenderer.js\";import t from\"../../../../renderers/PointCloudStretchRenderer.js\";import n from\"../../../../renderers/PointCloudUniqueValueRenderer.js\";import{decodeXYZ as l}from\"./LEPCC.js\";import{createGeometryIndexFromSchema as i,createTypedView as s,readBinaryAttribute as f}from\"./I3SBinaryReader.js\";function u(e,o,l,i){const{rendererJSON:s,isRGBRenderer:f}=e;let u=null,c=null;if(o&&f)u=o;else if(o&&\"pointCloudUniqueValueRenderer\"===s.type){c=n.fromJSON(s);const e=c.colorUniqueValueInfos;u=new Uint8Array(3*i);const r=p(c.fieldTransformType);for(let t=0;t<i;t++){const n=(r?r(o[t]):o[t])+\"\";for(let o=0;o<e.length;o++)if(e[o].values.indexOf(n)>=0){u[3*t]=e[o].color.r,u[3*t+1]=e[o].color.g,u[3*t+2]=e[o].color.b;break}}}else if(o&&\"pointCloudStretchRenderer\"===s.type){c=t.fromJSON(s);const e=c.stops;u=new Uint8Array(3*i);const r=p(c.fieldTransformType);for(let t=0;t<i;t++){const n=r?r(o[t]):o[t],l=e.length-1;if(n<e[0].value)u[3*t]=e[0].color.r,u[3*t+1]=e[0].color.g,u[3*t+2]=e[0].color.b;else if(n>=e[l].value)u[3*t]=e[l].color.r,u[3*t+1]=e[l].color.g,u[3*t+2]=e[l].color.b;else for(let o=1;o<e.length;o++)if(n<e[o].value){const r=(n-e[o-1].value)/(e[o].value-e[o-1].value);u[3*t]=e[o].color.r*r+e[o-1].color.r*(1-r),u[3*t+1]=e[o].color.g*r+e[o-1].color.g*(1-r),u[3*t+2]=e[o].color.b*r+e[o-1].color.b*(1-r);break}}}else if(o&&\"pointCloudClassBreaksRenderer\"===s.type){c=r.fromJSON(s);const e=c.colorClassBreakInfos;u=new Uint8Array(3*i);const t=p(c.fieldTransformType);for(let r=0;r<i;r++){const n=t?t(o[r]):o[r];for(let o=0;o<e.length;o++)if(n>=e[o].minValue&&n<=e[o].maxValue){u[3*r]=e[o].color.r,u[3*r+1]=e[o].color.g,u[3*r+2]=e[o].color.b;break}}}else{u=new Uint8Array(3*i);for(let e=0;e<u.length;e++)u[e]=255}if(l&&c&&c.colorModulation){const e=c.colorModulation.minValue,o=c.colorModulation.maxValue,r=.3;for(let t=0;t<i;t++){const n=l[t],i=n>=o?1:n<=e?r:r+(1-r)*(n-e)/(o-e);u[3*t]=i*u[3*t],u[3*t+1]=i*u[3*t+1],u[3*t+2]=i*u[3*t+2]}}return u}function c(o,r){if(null==o.encoding||\"\"===o.encoding){const t=i(r,o);if(e(t.vertexAttributes.position))return;const n=s(r,t.vertexAttributes.position),l=t.header.fields,f=[l.offsetX,l.offsetY,l.offsetZ],u=[l.scaleX,l.scaleY,l.scaleZ],c=n.length/3,a=new Float64Array(3*c);for(let e=0;e<c;e++)a[3*e]=n[3*e]*u[0]+f[0],a[3*e+1]=n[3*e+1]*u[1]+f[1],a[3*e+2]=n[3*e+2]*u[2]+f[2];return a}if(\"lepcc-xyz\"===o.encoding)return l(r).result}function a(e,r,t){return o(e)&&e.attributeInfo.useElevation?d(r,t):o(e)?f(e.attributeInfo.storageInfo,e.buffer,t):null}function d(e,o){const r=new Float64Array(o);for(let t=0;t<o;t++)r[t]=e[3*t+2];return r}function m(e,o,r,t,n){const l=e.length/3;let i=0;for(let s=0;s<l;s++){let l=!0;for(let e=0;e<t.length&&l;e++){const{filterJSON:o}=t[e],r=n[e].values[s];switch(o.type){case\"pointCloudValueFilter\":{const e=\"exclude\"===o.mode;-1!==o.values.indexOf(r)===e&&(l=!1);break}case\"pointCloudBitfieldFilter\":{const e=b(o.requiredSetBits),t=b(o.requiredClearBits);(r&e)===e&&0==(r&t)||(l=!1);break}case\"pointCloudReturnFilter\":{const e=15&r,t=r>>>4&15,n=t>1,i=1===e,s=e===t;let f=!1;for(const r of o.includedReturns)if(\"last\"===r&&s||\"firstOfMany\"===r&&i&&n||\"lastOfMany\"===r&&s&&n||\"single\"===r&&!n){f=!0;break}f||(l=!1);break}}}l&&(r[i]=s,e[3*i]=e[3*s],e[3*i+1]=e[3*s+1],e[3*i+2]=e[3*s+2],o[3*i]=o[3*s],o[3*i+1]=o[3*s+1],o[3*i+2]=o[3*s+2],i++)}return i}function p(e){return null==e||\"none\"===e?null:\"low-four-bit\"===e?e=>15&e:\"high-four-bit\"===e?e=>(240&e)>>4:\"absolute-value\"===e?e=>Math.abs(e):\"modulo-ten\"===e?e=>e%10:null}function b(e){let o=0;for(const r of e||[])o|=1<<r;return o}export{d as elevationFromPositions,u as evaluateRenderer,m as filterInPlace,a as getAttributeValues,c as readGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{clone as o}from\"../../../core/lang.js\";import\"../../../core/Logger.js\";import{Integer as e}from\"../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as i}from\"../../../core/JSONSupport.js\";import p from\"../../../Color.js\";var l;let a=l=class extends i{constructor(){super(...arguments),this.description=null,this.label=null,this.minValue=0,this.maxValue=0,this.color=null}clone(){return new l({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:o(this.color)})}};r([t({type:String,json:{write:!0}})],a.prototype,\"description\",void 0),r([t({type:String,json:{write:!0}})],a.prototype,\"label\",void 0),r([t({type:Number,json:{read:{source:\"classMinValue\"},write:{target:\"classMinValue\"}}})],a.prototype,\"minValue\",void 0),r([t({type:Number,json:{read:{source:\"classMaxValue\"},write:{target:\"classMaxValue\"}}})],a.prototype,\"maxValue\",void 0),r([t({type:p,json:{type:[e],write:!0}})],a.prototype,\"color\",void 0),a=l=r([s(\"esri.renderers.support.pointCloud.ColorClassBreakInfo\")],a);var c=a;export default c;export{a as ColorClassBreakInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{clone as r}from\"../core/lang.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import{enumeration as s}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import i from\"./PointCloudRenderer.js\";import p from\"./support/LegendOptions.js\";import l from\"./support/pointCloud/ColorClassBreakInfo.js\";var n;let a=n=class extends i{constructor(o){super(o),this.type=\"point-cloud-class-breaks\",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.colorClassBreakInfos=null}clone(){return new n({...this.cloneProperties(),field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:r(this.colorClassBreakInfos),legendOptions:r(this.legendOptions)})}};o([s({pointCloudClassBreaksRenderer:\"point-cloud-class-breaks\"})],a.prototype,\"type\",void 0),o([e({json:{write:!0},type:String})],a.prototype,\"field\",void 0),o([e({type:p,json:{write:!0}})],a.prototype,\"legendOptions\",void 0),o([e({type:i.fieldTransformTypeKebabDict.apiValues,json:{type:i.fieldTransformTypeKebabDict.jsonValues,read:i.fieldTransformTypeKebabDict.read,write:i.fieldTransformTypeKebabDict.write}})],a.prototype,\"fieldTransformType\",void 0),o([e({type:[l],json:{write:!0}})],a.prototype,\"colorClassBreakInfos\",void 0),a=n=o([t(\"esri.renderers.PointCloudClassBreaksRenderer\")],a);var c=a;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{clone as r}from\"../core/lang.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{enumeration as t}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import p from\"./PointCloudRenderer.js\";import i from\"./support/LegendOptions.js\";import n from\"./visualVariables/support/ColorStop.js\";var l;let d=l=class extends p{constructor(e){super(e),this.type=\"point-cloud-stretch\",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.stops=null}clone(){return new l({...this.cloneProperties(),field:r(this.field),fieldTransformType:r(this.fieldTransformType),stops:r(this.stops),legendOptions:r(this.legendOptions)})}};e([t({pointCloudStretchRenderer:\"point-cloud-stretch\"})],d.prototype,\"type\",void 0),e([o({json:{write:!0},type:String})],d.prototype,\"field\",void 0),e([o({type:i,json:{write:!0}})],d.prototype,\"legendOptions\",void 0),e([o({type:p.fieldTransformTypeKebabDict.apiValues,json:{type:p.fieldTransformTypeKebabDict.jsonValues,read:p.fieldTransformTypeKebabDict.read,write:p.fieldTransformTypeKebabDict.write}})],d.prototype,\"fieldTransformType\",void 0),e([o({type:[n],json:{write:!0}})],d.prototype,\"stops\",void 0),d=l=e([s(\"esri.renderers.PointCloudStretchRenderer\")],d);var c=d;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../../core/JSONSupport.js\";var s;let p=s=class extends t{constructor(){super(...arguments),this.field=null,this.minValue=0,this.maxValue=255}clone(){return new s({field:this.field,minValue:this.minValue,maxValue:this.maxValue})}};r([o({type:String,json:{write:!0}})],p.prototype,\"field\",void 0),r([o({type:Number,nonNullable:!0,json:{write:!0}})],p.prototype,\"minValue\",void 0),r([o({type:Number,nonNullable:!0,json:{write:!0}})],p.prototype,\"maxValue\",void 0),p=s=r([e(\"esri.renderers.support.pointCloud.ColorModulation\")],p);var i=p;export default i;export{p as ColorModulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{JSONMap as e}from\"../../../core/jsonMap.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../../core/JSONSupport.js\";const p=new e({pointCloudFixedSizeAlgorithm:\"fixed-size\",pointCloudSplatAlgorithm:\"splat\"});let i=class extends t{};o([r({type:p.apiValues,readOnly:!0,nonNullable:!0,json:{type:p.jsonValues,read:!1,write:p.write}})],i.prototype,\"type\",void 0),i=o([s(\"esri.renderers.support.pointCloud.PointSizeAlgorithm\")],i);var c=i;export default c;export{i as PointSizeAlgorithm,p as typeKebabDictionary};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{enumeration as r}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import t from\"./PointSizeAlgorithm.js\";var i;let p=i=class extends t{constructor(){super(...arguments),this.type=\"fixed-size\",this.size=0,this.useRealWorldSymbolSizes=null}clone(){return new i({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})}};o([r({pointCloudFixedSizeAlgorithm:\"fixed-size\"})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,json:{write:!0}})],p.prototype,\"size\",void 0),o([e({type:Boolean,json:{write:!0}})],p.prototype,\"useRealWorldSymbolSizes\",void 0),p=i=o([s(\"esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm\")],p);var l=p;export default l;export{p as PointSizeFixedSizeAlgorithm};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import s from\"./PointSizeAlgorithm.js\";var p;let c=p=class extends s{constructor(){super(...arguments),this.type=\"splat\",this.scaleFactor=1}clone(){return new p({scaleFactor:this.scaleFactor})}};r([t({pointCloudSplatAlgorithm:\"splat\"})],c.prototype,\"type\",void 0),r([o({type:Number,value:1,nonNullable:!0,json:{write:!0}})],c.prototype,\"scaleFactor\",void 0),c=p=r([e(\"esri.renderers.support.pointCloud.PointSizeSplatAlgorithm\")],c);var i=c;export default i;export{c as PointSizeSplatAlgorithm};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport i from\"./PointSizeAlgorithm.js\";import t from\"./PointSizeFixedSizeAlgorithm.js\";import o from\"./PointSizeSplatAlgorithm.js\";const e={key:\"type\",base:i,typeMap:{\"fixed-size\":t,splat:o}};export{e as pointSizeAlgorithmTypes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{clone as r}from\"../core/lang.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import{strict as t,JSONMap as i}from\"../core/jsonMap.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{JSONSupport as n}from\"../core/JSONSupport.js\";import p from\"./support/pointCloud/ColorModulation.js\";import{pointSizeAlgorithmTypes as l}from\"./support/pointCloud/pointSizeAlgorithmTypeUtils.js\";const u=t()({pointCloudClassBreaksRenderer:\"point-cloud-class-breaks\",pointCloudRGBRenderer:\"point-cloud-rgb\",pointCloudStretchRenderer:\"point-cloud-stretch\",pointCloudUniqueValueRenderer:\"point-cloud-unique-value\"});let c=class extends n{constructor(o){super(o),this.type=void 0,this.pointSizeAlgorithm=null,this.colorModulation=null,this.pointsPerInch=10}clone(){return console.warn(\".clone() is not implemented for \"+this.declaredClass),null}cloneProperties(){return{pointSizeAlgorithm:r(this.pointSizeAlgorithm),colorModulation:r(this.colorModulation),pointsPerInch:r(this.pointsPerInch)}}};o([e({type:u.apiValues,readOnly:!0,nonNullable:!0,json:{type:u.jsonValues,read:!1,write:u.write}})],c.prototype,\"type\",void 0),o([e({types:l,json:{write:!0}})],c.prototype,\"pointSizeAlgorithm\",void 0),o([e({type:p,json:{write:!0}})],c.prototype,\"colorModulation\",void 0),o([e({json:{write:!0},nonNullable:!0,type:Number})],c.prototype,\"pointsPerInch\",void 0),c=o([s(\"esri.renderers.PointCloudRenderer\")],c),function(o){o.fieldTransformTypeKebabDict=new i({none:\"none\",lowFourBit:\"low-four-bit\",highFourBit:\"high-four-bit\",absoluteValue:\"absolute-value\",moduloTen:\"modulo-ten\"})}(c||(c={}));var a=c;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{clone as r}from\"../../../core/lang.js\";import\"../../../core/Logger.js\";import{Integer as t}from\"../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as p}from\"../../../core/JSONSupport.js\";import i from\"../../../Color.js\";var l;let c=l=class extends p{constructor(){super(...arguments),this.description=null,this.label=null,this.values=null,this.color=null}clone(){return new l({description:this.description,label:this.label,values:r(this.values),color:r(this.color)})}};o([e({type:String,json:{write:!0}})],c.prototype,\"description\",void 0),o([e({type:String,json:{write:!0}})],c.prototype,\"label\",void 0),o([e({type:[String],json:{write:!0}})],c.prototype,\"values\",void 0),o([e({type:i,json:{type:[t],write:!0}})],c.prototype,\"color\",void 0),c=l=o([s(\"esri.renderers.support.pointCloud.ColorUniqueValueInfo\")],c);var n=c;export default n;export{c as ColorUniqueValueInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{clone as o}from\"../core/lang.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{enumeration as t}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import i from\"./PointCloudRenderer.js\";import p from\"./support/LegendOptions.js\";import n from\"./support/pointCloud/ColorUniqueValueInfo.js\";var l;let u=l=class extends i{constructor(e){super(e),this.type=\"point-cloud-unique-value\",this.field=null,this.fieldTransformType=null,this.colorUniqueValueInfos=null,this.legendOptions=null}clone(){return new l({...this.cloneProperties(),field:o(this.field),fieldTransformType:o(this.fieldTransformType),colorUniqueValueInfos:o(this.colorUniqueValueInfos),legendOptions:o(this.legendOptions)})}};e([t({pointCloudUniqueValueRenderer:\"point-cloud-unique-value\"})],u.prototype,\"type\",void 0),e([r({json:{write:!0},type:String})],u.prototype,\"field\",void 0),e([r({type:i.fieldTransformTypeKebabDict.apiValues,json:{type:i.fieldTransformTypeKebabDict.jsonValues,read:i.fieldTransformTypeKebabDict.read,write:i.fieldTransformTypeKebabDict.write}})],u.prototype,\"fieldTransformType\",void 0),e([r({type:[n],json:{write:!0}})],u.prototype,\"colorUniqueValueInfos\",void 0),e([r({type:p,json:{write:!0}})],u.prototype,\"legendOptions\",void 0),u=l=e([s(\"esri.renderers.PointCloudUniqueValueRenderer\")],u);var a=u;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../core/lang.js\";import t from\"../../../../core/Logger.js\";import n from\"../../../../core/Error.js\";import{decodeRGB as r,decodeIntensity as o}from\"./LEPCC.js\";const i=t.getLogger(\"esri.views.3d.layers.i3s.I3SBinaryReader\");function u(e,t,r){let o=\"\",i=0;for(;i<r;){const u=e[t+i];if(u<128)o+=String.fromCharCode(u),i++;else if(u>=192&&u<224){if(i+1>=r)throw new n(\"utf8-decode-error\",\"UTF-8 Decode failed. Two byte character was truncated.\");const a=(31&u)<<6|63&e[t+i+1];o+=String.fromCharCode(a),i+=2}else if(u>=224&&u<240){if(i+2>=r)throw new n(\"utf8-decode-error\",\"UTF-8 Decode failed. Multi byte character was truncated.\");const a=(15&u)<<12|(63&e[t+i+1])<<6|63&e[t+i+2];o+=String.fromCharCode(a),i+=3}else{if(!(u>=240&&u<248))throw new n(\"utf8-decode-error\",\"UTF-8 Decode failed. Invalid multi byte sequence.\");{if(i+3>=r)throw new n(\"utf8-decode-error\",\"UTF-8 Decode failed. Multi byte character was truncated.\");const a=(7&u)<<18|(63&e[t+i+1])<<12|(63&e[t+i+2])<<6|63&e[t+i+3];if(a>=65536){const e=55296+(a-65536>>10),t=56320+(1023&a);o+=String.fromCharCode(e,t)}else o+=String.fromCharCode(a);i+=4}}}return o}function a(e,t){const n={byteOffset:0,byteCount:0,fields:Object.create(null)};let r=0;for(let o=0;o<t.length;o++){const i=t[o],u=i.valueType||i.type,a=I[u];n.fields[i.property]=a(e,r),r+=m[u].BYTES_PER_ELEMENT}return n.byteCount=r,n}function s(e,t,r){const o=[];let i,a,s=0;for(a=0;a<e;a+=1){if(i=t[a],i>0){if(o.push(u(r,s,i-1)),0!==r[s+i-1])throw new n(\"string-array-error\",\"Invalid string array: missing null termination.\")}else o.push(null);s+=i}return o}function c(e,t){return new(0,m[t.valueType])(e,t.byteOffset,t.count*t.valuesPerElement)}function f(e,t){return new Uint8Array(e,t.byteOffset,t.byteCount)}function l(t,r,o){const i=null!=r.header?a(t,r.header):{byteOffset:0,byteCount:0,fields:{count:o}},u={header:i,byteOffset:i.byteCount,byteCount:0,entries:Object.create(null)};let s=i.byteCount;for(let a=0;a<r.ordering.length;a++){const t=r.ordering[a],o=e(r[t]);if(o.count=i.fields.count,\"String\"===o.valueType){if(o.byteOffset=s,o.byteCount=i.fields[t+\"ByteCount\"],\"UTF-8\"!==o.encoding)throw new n(\"unsupported-encoding\",\"Unsupported String encoding.\",{encoding:o.encoding})}else{if(!h(o.valueType))throw new n(\"unsupported-value-type\",\"Unsupported binary valueType\",{valueType:o.valueType});{const e=A(o.valueType);s+=s%e!=0?e-s%e:0,o.byteOffset=s,o.byteCount=e*o.valuesPerElement*o.count}}s+=o.byteCount,u.entries[t]=o}return u.byteCount=s-u.byteOffset,u}function b(e,t,r){if(t!==e&&i.error(`Invalid ${r} buffer size\\n expected: ${e}, actual: ${t})`),t<e)throw new n(\"buffer-too-small\",\"Binary buffer is too small\",{expectedSize:e,actualSize:t})}function d(e){return{isDraco:!1,isLegacy:!1,color:null!=e.color,normal:null!=e.normal,uv0:null!=e.uv0,uvRegion:null!=e.uvRegion,featureIndex:null!=e.faceRange&&null!=e.featureId}}function y(e,t){const n=a(e,t&&t.header);let r=n.byteCount;const o={isDraco:!1,header:n,byteOffset:n.byteCount,byteCount:0,vertexAttributes:{}},i=n.fields,u=null!=i.vertexCount?i.vertexCount:i.count;for(const a of t.ordering){if(!t.vertexAttributes[a])continue;const e={...t.vertexAttributes[a],byteOffset:r,count:u},n=p[a]?p[a]:\"_\"+a;o.vertexAttributes[n]=e,r+=A(e.valueType)*e.valuesPerElement*u}const s=i.faceCount;if(t.faces&&s){o.faces={};for(const e of t.ordering){if(!t.faces[e])continue;const n={...t.faces[e],byteOffset:r,count:s};o.faces[e]=n,r+=A(n.valueType)*n.valuesPerElement*s}}const c=i.featureCount;if(t.featureAttributes&&t.featureAttributeOrder&&c){o.featureAttributes={};for(const e of t.featureAttributeOrder){if(!t.featureAttributes[e])continue;const n={...t.featureAttributes[e],byteOffset:r,count:c};o.featureAttributes[e]=n;r+=(\"UInt64\"===n.valueType?8:A(n.valueType))*n.valuesPerElement*c}}return b(r,e.byteLength,\"geometry\"),o.byteCount=r-o.byteOffset,o}function g(e,t){return!(!e||!e.compressedAttributes||\"draco\"!==e.compressedAttributes.encoding)?v(e.compressedAttributes.attributes):e?d(e):w(t)}function w(e){const t={isDraco:!1,isLegacy:!0,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const n of e.ordering)if(e.vertexAttributes[n])switch(n){case\"position\":break;case\"normal\":t.normal=!0;break;case\"color\":t.color=!0;break;case\"uv0\":t.uv0=!0;break;case\"region\":t.uvRegion=!0}return e.featureAttributes&&e.featureAttributeOrder&&(t.featureIndex=!0),t}function v(e){const t={isDraco:!0,isLegacy:!1,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const n of e)switch(n){case\"position\":break;case\"normal\":t.normal=!0;break;case\"uv0\":t.uv0=!0;break;case\"color\":t.color=!0;break;case\"uv-region\":t.uvRegion=!0;break;case\"feature-index\":t.featureIndex=!0}return t}const p={position:\"position\",normal:\"normal\",color:\"color\",uv0:\"uv0\",region:\"uvRegion\"};function C(e,t,u){if(\"lepcc-rgb\"===e.encoding)return r(t);if(\"lepcc-intensity\"===e.encoding)return o(t);if(null!=e.encoding&&\"\"!==e.encoding)throw new n(\"unknown-attribute-storage-info-encoding\",\"Unknown Attribute Storage Info Encoding\");e[\"attributeByteCounts \"]&&!e.attributeByteCounts&&(i.warn(\"Warning: Trailing space in 'attributeByteCounts '.\"),e.attributeByteCounts=e[\"attributeByteCounts \"]),\"ObjectIds\"===e.ordering[0]&&e.hasOwnProperty(\"objectIds\")&&(i.warn(\"Warning: Case error in objectIds\"),e.ordering[0]=\"objectIds\");const a=l(t,e,u);b(a.byteOffset+a.byteCount,t.byteLength,\"attribute\");const d=a.entries.attributeValues||a.entries.objectIds;if(d){if(\"String\"===d.valueType){const e=a.entries.attributeByteCounts,n=c(t,e),r=f(t,d);return s(e.count,n,r)}return c(t,d)}throw new n(\"bad-attribute-storage-info\",\"Bad attributeStorageInfo specification.\")}const m={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},I={Float32:(e,t)=>new DataView(e,0).getFloat32(t,!0),Float64:(e,t)=>new DataView(e,0).getFloat64(t,!0),UInt8:(e,t)=>new DataView(e,0).getUint8(t),Int8:(e,t)=>new DataView(e,0).getInt8(t),UInt16:(e,t)=>new DataView(e,0).getUint16(t,!0),Int16:(e,t)=>new DataView(e,0).getInt16(t,!0),UInt32:(e,t)=>new DataView(e,0).getUint32(t,!0),Int32:(e,t)=>new DataView(e,0).getInt32(t,!0)};function h(e){return m.hasOwnProperty(e)}function A(e){return h(e)?m[e].BYTES_PER_ELEMENT:0}export{l as createAttributeDataIndex,g as createGeometryDescriptor,v as createGeometryDescriptorForDraco,d as createGeometryDescriptorFromDefinition,w as createGeometryDescriptorFromSchema,y as createGeometryIndexFromSchema,f as createRawView,c as createTypedView,A as getBytesPerValue,h as isValueType,C as readBinaryAttribute,a as readHeader,s as readStringArray,I as valueType2ArrayBufferReader,m as valueType2TypedArrayClassMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";const t=!0,o={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};function r(e,r,n){return{identifier:String.fromCharCode.apply(null,new Uint8Array(e,n+o.identifierOffset,o.identifierLength)),version:r.getUint16(n+o.versionOffset,t),checksum:r.getUint32(n+o.checksumOffset,t)}}const n={sizeLo:0,sizeHi:4,minX:8,minY:16,minZ:24,maxX:32,maxY:40,maxZ:48,errorX:56,errorY:64,errorZ:72,count:80,reserved:84,byteCount:88};function i(e,o){return{sizeLo:e.getUint32(o+n.sizeLo,t),sizeHi:e.getUint32(o+n.sizeHi,t),minX:e.getFloat64(o+n.minX,t),minY:e.getFloat64(o+n.minY,t),minZ:e.getFloat64(o+n.minZ,t),maxX:e.getFloat64(o+n.maxX,t),maxY:e.getFloat64(o+n.maxY,t),maxZ:e.getFloat64(o+n.maxZ,t),errorX:e.getFloat64(o+n.errorX,t),errorY:e.getFloat64(o+n.errorY,t),errorZ:e.getFloat64(o+n.errorZ,t),count:e.getUint32(o+n.count,t),reserved:e.getUint32(o+n.reserved,t)}}function c(t){const c=new DataView(t,0);let d=0;const{identifier:l,version:a}=r(t,c,d);if(d+=o.byteCount,\"LEPCC     \"!==l)throw new e(\"lepcc-decode-error\",\"Bad identifier\");if(a>1)throw new e(\"lepcc-decode-error\",\"Unknown version\");const u=i(c,d);d+=n.byteCount;if(u.sizeHi*2**32+u.sizeLo!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad size\");const f=new Float64Array(3*u.count),h=[],w=[],g=[],p=[];if(d=s(t,d,h),d=s(t,d,w),d=s(t,d,g),d=s(t,d,p),d!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad length\");let m=0,U=0;for(let e=0;e<h.length;e++){U+=h[e];let t=0;for(let o=0;o<w[e];o++){t+=g[m];const e=p[m];f[3*m]=Math.min(u.maxX,u.minX+2*u.errorX*t),f[3*m+1]=Math.min(u.maxY,u.minY+2*u.errorY*U),f[3*m+2]=Math.min(u.maxZ,u.minZ+2*u.errorZ*e),m++}}return{errorX:u.errorX,errorY:u.errorY,errorZ:u.errorZ,result:f}}function s(e,t,o){const r=[];t=d(e,t,r);const n=[];for(let i=0;i<r.length;i++){n.length=0,t=d(e,t,n);for(let e=0;e<n.length;e++)o.push(n[e]+r[i])}return t}function d(o,r,n){const i=new DataView(o,r),c=i.getUint8(0),s=31&c,d=!!(32&c),l=(192&c)>>6;let a=0;if(0===l)a=i.getUint32(1,t),r+=5;else if(1===l)a=i.getUint16(1,t),r+=3;else{if(2!==l)throw new e(\"lepcc-decode-error\",\"Bad count type\");a=i.getUint8(1),r+=2}if(d)throw new e(\"lepcc-decode-error\",\"LUT not implemented\");const u=Math.ceil(a*s/8),f=new Uint8Array(o,r,u);let h=0,w=0,g=0;const p=-1>>>32-s;for(let e=0;e<a;e++){for(;w<s;)h|=f[g]<<w,w+=8,g+=1;n[e]=h&p,h>>>=s,w-=s,w+s>32&&(h|=f[g-1]>>8-w)}return r+g}const l={sizeLo:0,sizeHi:4,count:8,colorMapCount:12,lookupMethod:14,compressionMethod:15,byteCount:16};function a(e,o){return{sizeLo:e.getUint32(o+l.sizeLo,t),sizeHi:e.getUint32(o+l.sizeHi,t),count:e.getUint32(o+l.count,t),colorMapCount:e.getUint16(o+l.colorMapCount,t),lookupMethod:e.getUint8(o+l.lookupMethod),compressionMethod:e.getUint8(o+l.compressionMethod)}}function u(t){const n=new DataView(t,0);let i=0;const{identifier:c,version:s}=r(t,n,i);if(i+=o.byteCount,\"ClusterRGB\"!==c)throw new e(\"lepcc-decode-error\",\"Bad identifier\");if(s>1)throw new e(\"lepcc-decode-error\",\"Unknown version\");const d=a(n,i);i+=l.byteCount;if(d.sizeHi*2**32+d.sizeLo!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad size\");if((2===d.lookupMethod||1===d.lookupMethod)&&0===d.compressionMethod){if(3*d.colorMapCount+d.count+i!==t.byteLength||d.colorMapCount>256)throw new e(\"lepcc-decode-error\",\"Bad count\");const o=new Uint8Array(t,i,3*d.colorMapCount),r=new Uint8Array(t,i+3*d.colorMapCount,d.count),n=new Uint8Array(3*d.count);for(let e=0;e<d.count;e++){const t=r[e];n[3*e]=o[3*t],n[3*e+1]=o[3*t+1],n[3*e+2]=o[3*t+2]}return n}if(0===d.lookupMethod&&0===d.compressionMethod){if(3*d.count+i!==t.byteLength||0!==d.colorMapCount)throw new e(\"lepcc-decode-error\",\"Bad count\");return new Uint8Array(t,i).slice()}if(d.lookupMethod<=2&&1===d.compressionMethod){if(i+3!==t.byteLength||1!==d.colorMapCount)throw new e(\"lepcc-decode-error\",\"Bad count\");const o=n.getUint8(i),r=n.getUint8(i+1),c=n.getUint8(i+2),s=new Uint8Array(3*d.count);for(let e=0;e<d.count;e++)s[3*e]=o,s[3*e+1]=r,s[3*e+2]=c;return s}throw new e(\"lepcc-decode-error\",\"Bad method \"+d.lookupMethod+\",\"+d.compressionMethod)}const f={sizeLo:0,sizeHi:4,count:8,scaleFactor:12,bitsPerPoint:14,reserved:15,byteCount:16};function h(e,o){return{sizeLo:e.getUint32(o+f.sizeLo,t),sizeHi:e.getUint32(o+f.sizeHi,t),count:e.getUint32(o+f.count,t),scaleFactor:e.getUint16(o+f.scaleFactor,t),bitsPerPoint:e.getUint8(o+f.bitsPerPoint),reserved:e.getUint8(o+f.reserved)}}function w(t){const n=new DataView(t,0);let i=0;const{identifier:c,version:s}=r(t,n,i);if(i+=o.byteCount,\"Intensity \"!==c)throw new e(\"lepcc-decode-error\",\"Bad identifier\");if(s>1)throw new e(\"lepcc-decode-error\",\"Unknown version\");const l=h(n,i);i+=f.byteCount;if(l.sizeHi*2**32+l.sizeLo!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad size\");const a=new Uint16Array(l.count);if(8===l.bitsPerPoint){if(l.count+i!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad size\");const o=new Uint8Array(t,i,l.count);for(let e=0;e<l.count;e++)a[e]=o[e]*l.scaleFactor}else if(16===l.bitsPerPoint){if(2*l.count+i!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad size\");const o=new Uint16Array(t,i,l.count);for(let e=0;e<l.count;e++)a[e]=o[e]*l.scaleFactor}else{const o=[];if(d(t,i,o)!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad size\");for(let e=0;e<l.count;e++)a[e]=o[e]*l.scaleFactor}return a}export{w as decodeIntensity,u as decodeRGB,c as decodeXYZ};\n"],"sourceRoot":""}