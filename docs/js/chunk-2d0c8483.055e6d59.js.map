{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/arcade/functions/featuresetstring.js"],"names":["f","n","domain","type","convertObjectToArcadeDictionary","name","dataType","field","codedValues","map","code","min","max","l","s","mode","functions","a","i","standardFunctionAsync","c","fullDomain","_ensureLoaded","then","Error","subtypes","e","t","o","domainname","u","domainValueLookup","signatures","push","domaincode","domainCodeLookup","text","castToText","toLowerCase","convertToText","abortSignal","gdbversion","gdbVersion","load","schema"],"mappings":"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","file":"js/chunk-2d0c8483.055e6d59.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{p as n,e,c as t,z as r,k as o,l as a,m as i,C as c,t as u}from\"../../chunks/languageUtils.js\";import d from\"../Dictionary.js\";import{layerFieldEsriConstants as s}from\"../featureset/support/shared.js\";import m from\"../Feature.js\";function f(n){return n&&n.domain?\"coded-value\"===n.domain.type||\"codedValue\"===n.domain.type?d.convertObjectToArcadeDictionary({type:\"codedValue\",name:n.domain.name,dataType:s[n.field.type],codedValues:n.domain.codedValues.map((n=>({name:n.name,code:n.code})))}):d.convertObjectToArcadeDictionary({type:\"range\",name:n.domain.name,dataType:s[n.field.type],min:n.domain.min,max:n.domain.max}):null}function l(s){\"async\"===s.mode&&(s.functions.domain=function(a,i){return s.standardFunctionAsync(a,i,(function(a,i,c){if(n(c,2,3),c[0]instanceof m){return f(c[0].fullDomain(e(c[1]),void 0===c[2]?void 0:t(c[2])))}if(r(c[0]))return c[0]._ensureLoaded().then((()=>f(o(e(c[1]),c[0],null,void 0===c[2]?void 0:t(c[2])))));throw new Error(\"Invalid Parameter\")}))},s.functions.subtypes=function(e,t){return s.standardFunctionAsync(e,t,(function(e,t,o){if(n(o,1,1),o[0]instanceof m){const n=o[0].subtypes();return n?d.convertObjectToArcadeDictionary(n):null}if(r(o[0]))return o[0]._ensureLoaded().then((()=>{const n=o[0].subtypes();return n?d.convertObjectToArcadeDictionary(n):null}));throw new Error(\"Invalid Parameter\")}))},s.functions.domainname=function(i,c){return s.standardFunctionAsync(i,c,(function(i,c,u){if(n(u,2,4),u[0]instanceof m)return u[0].domainValueLookup(e(u[1]),u[2],void 0===u[3]?void 0:t(u[3]));if(r(u[0]))return u[0]._ensureLoaded().then((()=>{const n=o(e(u[1]),u[0],null,void 0===u[3]?void 0:t(u[3]));return a(n,u[2])}));throw new Error(\"Invalid Parameter\")}))},s.signatures.push({name:\"domainname\",min:\"2\",max:\"4\"}),s.functions.domaincode=function(a,c){return s.standardFunctionAsync(a,c,(function(a,c,u){if(n(u,2,4),u[0]instanceof m)return u[0].domainCodeLookup(e(u[1]),u[2],void 0===u[3]?void 0:t(u[3]));if(r(u[0]))return u[0]._ensureLoaded().then((()=>{const n=o(e(u[1]),u[0],null,void 0===u[3]?void 0:t(u[3]));return i(n,u[2])}));throw new Error(\"Invalid Parameter\")}))},s.signatures.push({name:\"domaincode\",min:\"2\",max:\"4\"})),s.functions.text=function(e,t){return s.standardFunctionAsync(e,t,(function(e,t,o){if(n(o,1,2),!r(o[0]))return u(o[0],o[1]);{const n=c(o[1],\"\");if(\"\"===n)return o[0].castToText();if(\"schema\"===n.toLowerCase())return o[0].convertToText(\"schema\",e.abortSignal);if(\"featureset\"===n.toLowerCase())return o[0].convertToText(\"featureset\",e.abortSignal)}}))},s.functions.gdbversion=function(e,t){return s.standardFunctionAsync(e,t,(function(e,t,o){if(n(o,1,1),o[0]instanceof m)return o[0].gdbVersion();if(r(o[0]))return o[0].load().then((n=>n.gdbVersion));throw new Error(\"Invalid Parameter\")}))},s.functions.schema=function(e,t){return s.standardFunctionAsync(e,t,(function(e,t,o){if(n(o,1,1),r(o[0]))return o[0].load().then((()=>d.convertObjectToArcadeDictionary(o[0].schema())));if(o[0]instanceof m){const n=o[0].schema();return n?d.convertObjectToArcadeDictionary(n):null}throw new Error(\"Invalid Parameter\")}))}}export{l as registerFunctions};\n"],"sourceRoot":""}